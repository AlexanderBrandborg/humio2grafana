{"version":3,"sources":["../src/config_ctrl.js"],"names":["angular","_","HumioConfigCtrl","$scope","$injector","$q","$http","dataspaces","current","jsonData","humioToken","url","requestOpts","method","headers","then","r","data","map","ds","value","id","name","templateUrl"],"mappings":";;;;;;;;;;;;;;;AAAOA,a;;AACAC,O;;;iCAEMC,e;AACX;;AAEA;AACA,+BAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,EAA/B,EAAmCC,KAAnC,EAA0C;AAAA;;AAAA;;AAExC,aAAKC,UAAL,GAAkB,EAAlB;AACA,aAAKC,OAAL,GAAe,KAAKA,OAAL,IAAgB,EAA/B;AACA,aAAKA,OAAL,CAAaC,QAAb,GAAwB,KAAKD,OAAL,CAAaC,QAAb,IAAyB,EAAjD;AACA,aAAKD,OAAL,CAAaC,QAAb,CAAsBC,UAAtB,GAAmC,KAAKF,OAAL,CAAaC,QAAb,CAAsBC,UAAtB,IAAoC,WAAvE;;AAEA,YAAI,KAAKF,OAAL,CAAaG,GAAb,IAAoB,KAAKH,OAAL,CAAaC,QAAb,CAAsBC,UAA9C,EAA0D;AACxD,cAAIE,cAAc;AAChBC,oBAAQ,KADQ;AAEhBF,iBAAK,KAAKH,OAAL,CAAaG,GAAb,GAAmB,oBAFR;AAGhBG,qBAAS;AACP,+BAAiB,YAAY,KAAKN,OAAL,CAAaC,QAAb,CAAsBC;AAD5C;AAHO,WAAlB;AAOAJ,gBAAMM,WAAN,EAAmBG,IAAnB,CAAwB,UAACC,CAAD,EAAO;AAC7B,kBAAKT,UAAL,GAAkBS,EAAEC,IAAF,CAAOC,GAAP,CAAW,UAACC,EAAD,EAAQ;AACnC,qBAAQ;AACNC,uBAAOD,GAAGE,EADJ;AAENC,sBAAMH,GAAGE;AAFH,eAAR;AAID,aALiB,CAAlB;AAMD,WAPD;AAQD;AACF,O;;;;AAEHnB,sBAAgBqB,WAAhB,GAA8B,sBAA9B","file":"config_ctrl.js","sourcesContent":["import angular from 'angular';\nimport _ from 'lodash';\n\nexport class HumioConfigCtrl {\n  // current: any;\n\n  /** @ngInject */\n  constructor($scope, $injector, $q, $http) {\n\n    this.dataspaces = [];\n    this.current = this.current || {};\n    this.current.jsonData = this.current.jsonData || {};\n    this.current.jsonData.humioToken = this.current.jsonData.humioToken || \"developer\";\n\n    if (this.current.url && this.current.jsonData.humioToken) {\n      var requestOpts = {\n        method: 'GET',\n        url: this.current.url + '/api/v1/dataspaces',\n        headers: {\n          'Authorization': 'Bearer ' + this.current.jsonData.humioToken\n        }\n      };\n      $http(requestOpts).then((r) => {\n        this.dataspaces = r.data.map((ds) => {\n          return ({\n            value: ds.id,\n            name: ds.id\n          })\n        });\n      })\n    }\n  }\n}\nHumioConfigCtrl.templateUrl = 'partials/config.html';\n"]}